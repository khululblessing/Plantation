@model IEnumerable<AgricultureApp.Models.Appointment.Cancel>

@{
	ViewBag.Title = "Cancels";
	var mess = TempData["Cancels"] ?? null;
}
<script>
	var msg = '@mess'
	if (msg)
		alert(msg)
</script>

<h2>Cancel Requests</h2>
<hr />
<table class="table">
	<tr>
		<th>
			@Html.DisplayNameFor(model => model.date)
		</th>
		<th>
			@Html.DisplayNameFor(model => model.Service)
		</th>
		<th>
			@Html.DisplayNameFor(model => model.treat)
		</th>
		<th>
			@Html.DisplayNameFor(model => model.price)
		</th>
		<th>
			@Html.DisplayNameFor(model => model.name)
		</th>
		<th>
			@Html.DisplayNameFor(model => model.email)
		</th>
		<th>
			@Html.DisplayNameFor(model => model.status)
		</th>
		<th></th>
	</tr>

	@foreach (var item in Model)
	{
		<tr>
			<td>
				@Html.DisplayFor(modelItem => item.date)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.Service)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.treat)
			</td>
			<td>
				@item.price.ToString("R0.00")
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.name)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.email)
			</td>
			<td>
				@Html.DisplayFor(modelItem => item.status)
			</td>
			<td>
				@if (User.IsInRole("Assistant"))
				{
					if (item.isRequested == true && item.isApproved == false)
					{
						<a class="btn btn-warning" href="~/Bookings/Review/@item.Id">Review</a>
					}
				}
			</td>
		</tr>
	}

</table>
